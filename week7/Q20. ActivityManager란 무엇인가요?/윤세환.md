- ActivityManager는 기기에서 실행중인 Activity, Task, 프로세스에 대한 정보를 제공하고 관리하는 안드로이드 시스템 서비스
- 이를 통해 개발자가 앱 생명주기, 메모리 사용량 및 테스크 관리 측면과 상호작용하고 제어할 수 있다.

### 주요 기능

- Task 및 Activity 정보
    - 실행중인 Activity, Task 및 해당 스택 상태에 해당 세부 정보를 추적할 수 있으며 이는 개발자가 앱 동작 및 시스템 리소스 사용량을 모니터링하는데 도움
- 메모리 관리
    - 앱의 메모리 소비 및 시스템 전체 메모리 상태를 포함하여 시스템 전체의 메모리 사용량에 대한 정보를 제공하여 개발자가 앱 성능을 최적화하고 메모리 부족 상태를 처리할 수 있도록 함
- 앱 프로세스 관리
    - 실행중인 앱 프로세스 및 Service에 대한 세부 정보를 가져올 수 있으며 이를 통해 개발자가 앱 상태를 감지하거나 프로세스 수즌의 변화에 반응할 수 있도록 함
- 디버깅 및 진단
    - 힙 덤프 생성 또는 앱 프로파일링과 같이 디버깅을 위한 도구를 제공하여 성능 병목 현상이나 메모리 누수를 식별하는데 도움
    - 메모리 누수 감지 라이브러리 중 하나인 LeakCanary가 메모리 누수 자동 모니터링에 ActivityManager를 사용

### ActivityManager에서 제공하는 메서드

- getRunningAppProcess()
    - 기기에서 현재 실행 중인 프로세스 목록을 반환
- getMemoryInfo(ActivityManager.MemoryInfo memoryInfo)
    - 사용 가능한 메모리, 임계 메모리, 기기가 메모리 부족 상태인지 여부 등 시스템에 대한 자세한 메모리 정보를 검색
    - 메모리 부족 상태에서 앱을 최적화하는 데 활용
- killBackgroundProcess(String packageName)
    - 시스템 리소스를 확보하기 위해 지정된 앱의 백그라운드 프로세스를 종료
- isLowRamDevice
    - 해당 기기가 저사향 RAM으로 분류되는지 확인
- appNotResponding(String message)
    - 테스트 목적으로 ANR 이벤트를 발생
- clearApplicationUserData()
    - 파일, 데이터베이스 및 SharedPreferences를 포함하여 애플리케이션과 관련된 모든 사용자 별 데이터를 지운다.
    - 회원탈퇴/로그아웃과 같은 상황에서 사용할 수 있을듯

### Q. ActivityManager.getMemoryInfo()를 어떻게 앱 성능 최적화에 활용할 수 있으며,
시스템이 메모리 부족 상태에 들어가면 개발자는 어떤 조치를 취해야 하나요?

- 내부적으로 캐싱을 사용하고 있는 경우, 현재 사용 가능 메모리량이 많으면서 lowMemory가 false라면 캐시 크기를 더 증가시키거나, 반대로 사용 가능 메모리량이 적으면서 lowMemory가 true라면 캐시 크기를 줄이거나 아예 사용하지 않는 방법
- 이미지/동영상 처리 또는 대용량 데이터 처리와 같은 메모리 사용량이 많은 작업을 수행하기 전 사용 가능 메모리량을 확인하여 해당 작업을 사용할 수 없음을 사용자에게 알리는 방법